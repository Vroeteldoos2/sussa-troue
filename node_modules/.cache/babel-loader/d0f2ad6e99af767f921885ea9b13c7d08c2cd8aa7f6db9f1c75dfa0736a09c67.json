{"ast":null,"code":"// File: src/components/AuthLayout.jsx\nimport{useEffect,useMemo,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BG_URL=\"https://cyxeucwesqzwlisgveiz.supabase.co/storage/v1/object/public/public-assets/flowers-8309997.jpg\";export default function AuthLayout(_ref){let{children,slides=[],captions=[]}=_ref;const[index,setIndex]=useState(0);const motionOK=usePrefersMotion();// custom hook below\nconst timerRef=useRef(null);const safeSlides=useMemo(()=>slides.filter(Boolean),[slides]);const safeCaptions=useMemo(()=>captions.filter(Boolean),[captions]);useEffect(()=>{if(!safeSlides.length||!motionOK)return;clearInterval(timerRef.current);timerRef.current=setInterval(()=>{setIndex(i=>(i+1)%safeSlides.length);},4000);return()=>clearInterval(timerRef.current);},[safeSlides.length,motionOK]);const currentImg=safeSlides.length?safeSlides[index]:null;const currentCaption=safeCaptions.length?safeCaptions[index%safeCaptions.length]:null;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen w-full bg-center bg-cover relative\",style:{backgroundImage:\"url(\".concat(BG_URL,\")\")},\"aria-label\":\"Sunflower floral background\",role:\"img\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/30 backdrop-blur-[1px]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative z-10 max-w-6xl mx-auto px-4 py-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6 items-stretch\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/85 rounded-2xl shadow-xl border border-white/60 p-6 md:p-8\",children:children}),/*#__PURE__*/_jsx(\"div\",{className:\"rounded-2xl overflow-hidden border border-white/60 bg-white/20 backdrop-blur\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-[320px] md:h-full\",children:[currentImg?/*#__PURE__*/_jsx(\"img\",{src:currentImg,alt:\"Abraham & Jesse\\u2011Lee\",className:\"absolute inset-0 w-full h-full object-cover\",loading:\"lazy\",decoding:\"async\"}):/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center text-white/80\",role:\"status\",children:\"Loading photos\\u2026\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent pointer-events-none\"}),currentCaption&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 w-full p-4 md:p-6 text-white\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm md:text-base leading-relaxed drop-shadow\",children:currentCaption})}),safeSlides.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 right-3 flex gap-1.5\",children:safeSlides.map((_,i)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIndex(i),className:\"h-2.5 w-2.5 rounded-full outline-offset-2 focus:outline focus:outline-2 focus:outline-white \".concat(i===index?\"bg-white\":\"bg-white/50 hover:bg-white/70\"),\"aria-label\":\"Show slide \".concat(i+1),\"aria-current\":i===index?\"true\":\"false\"},i))})]})})]})})]});}/** Small hook to respect prefers-reduced-motion */function usePrefersMotion(){const[ok,setOk]=useState(true);useEffect(()=>{var _mq$addEventListener;const mq=window.matchMedia(\"(prefers-reduced-motion: reduce)\");const handler=()=>setOk(!mq.matches);handler();(_mq$addEventListener=mq.addEventListener)===null||_mq$addEventListener===void 0?void 0:_mq$addEventListener.call(mq,\"change\",handler);return()=>{var _mq$removeEventListen;return(_mq$removeEventListen=mq.removeEventListener)===null||_mq$removeEventListen===void 0?void 0:_mq$removeEventListen.call(mq,\"change\",handler);};},[]);return ok;}","map":{"version":3,"names":["useEffect","useMemo","useRef","useState","jsx","_jsx","jsxs","_jsxs","BG_URL","AuthLayout","_ref","children","slides","captions","index","setIndex","motionOK","usePrefersMotion","timerRef","safeSlides","filter","Boolean","safeCaptions","length","clearInterval","current","setInterval","i","currentImg","currentCaption","className","style","backgroundImage","concat","role","src","alt","loading","decoding","map","_","type","onClick","ok","setOk","_mq$addEventListener","mq","window","matchMedia","handler","matches","addEventListener","call","_mq$removeEventListen","removeEventListener"],"sources":["C:/Users/drago/OneDrive/Desktop/sussa-troue/src/components/AuthLayout.jsx"],"sourcesContent":["// File: src/components/AuthLayout.jsx\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\nconst BG_URL =\r\n  \"https://cyxeucwesqzwlisgveiz.supabase.co/storage/v1/object/public/public-assets/flowers-8309997.jpg\";\r\n\r\nexport default function AuthLayout({ children, slides = [], captions = [] }) {\r\n  const [index, setIndex] = useState(0);\r\n  const motionOK = usePrefersMotion(); // custom hook below\r\n  const timerRef = useRef(null);\r\n\r\n  const safeSlides = useMemo(() => slides.filter(Boolean), [slides]);\r\n  const safeCaptions = useMemo(() => captions.filter(Boolean), [captions]);\r\n\r\n  useEffect(() => {\r\n    if (!safeSlides.length || !motionOK) return;\r\n    clearInterval(timerRef.current);\r\n    timerRef.current = setInterval(() => {\r\n      setIndex((i) => (i + 1) % safeSlides.length);\r\n    }, 4000);\r\n    return () => clearInterval(timerRef.current);\r\n  }, [safeSlides.length, motionOK]);\r\n\r\n  const currentImg = safeSlides.length ? safeSlides[index] : null;\r\n  const currentCaption =\r\n    safeCaptions.length ? safeCaptions[index % safeCaptions.length] : null;\r\n\r\n  return (\r\n    <div\r\n      className=\"min-h-screen w-full bg-center bg-cover relative\"\r\n      style={{ backgroundImage: `url(${BG_URL})` }}\r\n      aria-label=\"Sunflower floral background\"\r\n      role=\"img\"\r\n    >\r\n      {/* Soft grey overlay */}\r\n      <div className=\"absolute inset-0 bg-black/30 backdrop-blur-[1px]\" />\r\n\r\n      <div className=\"relative z-10 max-w-6xl mx-auto px-4 py-10\">\r\n        <div className=\"grid md:grid-cols-2 gap-6 items-stretch\">\r\n          {/* Form slot */}\r\n          <div className=\"bg-white/85 rounded-2xl shadow-xl border border-white/60 p-6 md:p-8\">\r\n            {children}\r\n          </div>\r\n\r\n          {/* Slideshow */}\r\n          <div className=\"rounded-2xl overflow-hidden border border-white/60 bg-white/20 backdrop-blur\">\r\n            <div className=\"relative h-[320px] md:h-full\">\r\n              {currentImg ? (\r\n                <img\r\n                  src={currentImg}\r\n                  alt=\"Abraham & Jesse‑Lee\"\r\n                  className=\"absolute inset-0 w-full h-full object-cover\"\r\n                  loading=\"lazy\"\r\n                  decoding=\"async\"\r\n                />\r\n              ) : (\r\n                <div\r\n                  className=\"absolute inset-0 flex items-center justify-center text-white/80\"\r\n                  role=\"status\"\r\n                >\r\n                  Loading photos…\r\n                </div>\r\n              )}\r\n\r\n              {/* gradient for caption legibility */}\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent pointer-events-none\" />\r\n\r\n              {/* Caption */}\r\n              {currentCaption && (\r\n                <div className=\"absolute bottom-0 w-full p-4 md:p-6 text-white\">\r\n                  <p className=\"text-sm md:text-base leading-relaxed drop-shadow\">\r\n                    {currentCaption}\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Dots (interactive & a11y) */}\r\n              {safeSlides.length > 1 && (\r\n                <div className=\"absolute top-3 right-3 flex gap-1.5\">\r\n                  {safeSlides.map((_, i) => (\r\n                    <button\r\n                      type=\"button\"\r\n                      key={i}\r\n                      onClick={() => setIndex(i)}\r\n                      className={`h-2.5 w-2.5 rounded-full outline-offset-2 focus:outline focus:outline-2 focus:outline-white ${\r\n                        i === index ? \"bg-white\" : \"bg-white/50 hover:bg-white/70\"\r\n                      }`}\r\n                      aria-label={`Show slide ${i + 1}`}\r\n                      aria-current={i === index ? \"true\" : \"false\"}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Mobile stacks by default via grid */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/** Small hook to respect prefers-reduced-motion */\r\nfunction usePrefersMotion() {\r\n  const [ok, setOk] = useState(true);\r\n  useEffect(() => {\r\n    const mq = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\r\n    const handler = () => setOk(!mq.matches);\r\n    handler();\r\n    mq.addEventListener?.(\"change\", handler);\r\n    return () => mq.removeEventListener?.(\"change\", handler);\r\n  }, []);\r\n  return ok;\r\n}\r\n"],"mappings":"AAAA;AACA,OAASA,SAAS,CAAEC,OAAO,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,MAAM,CACV,qGAAqG,CAEvG,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAA2C,IAA1C,CAAEC,QAAQ,CAAEC,MAAM,CAAG,EAAE,CAAEC,QAAQ,CAAG,EAAG,CAAC,CAAAH,IAAA,CACzE,KAAM,CAACI,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAAAa,QAAQ,CAAGC,gBAAgB,CAAC,CAAC,CAAE;AACrC,KAAM,CAAAC,QAAQ,CAAGhB,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAiB,UAAU,CAAGlB,OAAO,CAAC,IAAMW,MAAM,CAACQ,MAAM,CAACC,OAAO,CAAC,CAAE,CAACT,MAAM,CAAC,CAAC,CAClE,KAAM,CAAAU,YAAY,CAAGrB,OAAO,CAAC,IAAMY,QAAQ,CAACO,MAAM,CAACC,OAAO,CAAC,CAAE,CAACR,QAAQ,CAAC,CAAC,CAExEb,SAAS,CAAC,IAAM,CACd,GAAI,CAACmB,UAAU,CAACI,MAAM,EAAI,CAACP,QAAQ,CAAE,OACrCQ,aAAa,CAACN,QAAQ,CAACO,OAAO,CAAC,CAC/BP,QAAQ,CAACO,OAAO,CAAGC,WAAW,CAAC,IAAM,CACnCX,QAAQ,CAAEY,CAAC,EAAK,CAACA,CAAC,CAAG,CAAC,EAAIR,UAAU,CAACI,MAAM,CAAC,CAC9C,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,IAAMC,aAAa,CAACN,QAAQ,CAACO,OAAO,CAAC,CAC9C,CAAC,CAAE,CAACN,UAAU,CAACI,MAAM,CAAEP,QAAQ,CAAC,CAAC,CAEjC,KAAM,CAAAY,UAAU,CAAGT,UAAU,CAACI,MAAM,CAAGJ,UAAU,CAACL,KAAK,CAAC,CAAG,IAAI,CAC/D,KAAM,CAAAe,cAAc,CAClBP,YAAY,CAACC,MAAM,CAAGD,YAAY,CAACR,KAAK,CAAGQ,YAAY,CAACC,MAAM,CAAC,CAAG,IAAI,CAExE,mBACEhB,KAAA,QACEuB,SAAS,CAAC,iDAAiD,CAC3DC,KAAK,CAAE,CAAEC,eAAe,QAAAC,MAAA,CAASzB,MAAM,KAAI,CAAE,CAC7C,aAAW,6BAA6B,CACxC0B,IAAI,CAAC,KAAK,CAAAvB,QAAA,eAGVN,IAAA,QAAKyB,SAAS,CAAC,kDAAkD,CAAE,CAAC,cAEpEzB,IAAA,QAAKyB,SAAS,CAAC,4CAA4C,CAAAnB,QAAA,cACzDJ,KAAA,QAAKuB,SAAS,CAAC,yCAAyC,CAAAnB,QAAA,eAEtDN,IAAA,QAAKyB,SAAS,CAAC,qEAAqE,CAAAnB,QAAA,CACjFA,QAAQ,CACN,CAAC,cAGNN,IAAA,QAAKyB,SAAS,CAAC,8EAA8E,CAAAnB,QAAA,cAC3FJ,KAAA,QAAKuB,SAAS,CAAC,8BAA8B,CAAAnB,QAAA,EAC1CiB,UAAU,cACTvB,IAAA,QACE8B,GAAG,CAAEP,UAAW,CAChBQ,GAAG,CAAC,0BAAqB,CACzBN,SAAS,CAAC,6CAA6C,CACvDO,OAAO,CAAC,MAAM,CACdC,QAAQ,CAAC,OAAO,CACjB,CAAC,cAEFjC,IAAA,QACEyB,SAAS,CAAC,iEAAiE,CAC3EI,IAAI,CAAC,QAAQ,CAAAvB,QAAA,CACd,sBAED,CAAK,CACN,cAGDN,IAAA,QAAKyB,SAAS,CAAC,iGAAiG,CAAE,CAAC,CAGlHD,cAAc,eACbxB,IAAA,QAAKyB,SAAS,CAAC,gDAAgD,CAAAnB,QAAA,cAC7DN,IAAA,MAAGyB,SAAS,CAAC,kDAAkD,CAAAnB,QAAA,CAC5DkB,cAAc,CACd,CAAC,CACD,CACN,CAGAV,UAAU,CAACI,MAAM,CAAG,CAAC,eACpBlB,IAAA,QAAKyB,SAAS,CAAC,qCAAqC,CAAAnB,QAAA,CACjDQ,UAAU,CAACoB,GAAG,CAAC,CAACC,CAAC,CAAEb,CAAC,gBACnBtB,IAAA,WACEoC,IAAI,CAAC,QAAQ,CAEbC,OAAO,CAAEA,CAAA,GAAM3B,QAAQ,CAACY,CAAC,CAAE,CAC3BG,SAAS,gGAAAG,MAAA,CACPN,CAAC,GAAKb,KAAK,CAAG,UAAU,CAAG,+BAA+B,CACzD,CACH,2BAAAmB,MAAA,CAA0BN,CAAC,CAAG,CAAC,CAAG,CAClC,eAAcA,CAAC,GAAKb,KAAK,CAAG,MAAM,CAAG,OAAQ,EANxCa,CAON,CACF,CAAC,CACC,CACN,EACE,CAAC,CACH,CAAC,EACH,CAAC,CAEH,CAAC,EACH,CAAC,CAEV,CAEA,mDACA,QAAS,CAAAV,gBAAgBA,CAAA,CAAG,CAC1B,KAAM,CAAC0B,EAAE,CAAEC,KAAK,CAAC,CAAGzC,QAAQ,CAAC,IAAI,CAAC,CAClCH,SAAS,CAAC,IAAM,KAAA6C,oBAAA,CACd,KAAM,CAAAC,EAAE,CAAGC,MAAM,CAACC,UAAU,CAAC,kCAAkC,CAAC,CAChE,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAML,KAAK,CAAC,CAACE,EAAE,CAACI,OAAO,CAAC,CACxCD,OAAO,CAAC,CAAC,CACT,CAAAJ,oBAAA,CAAAC,EAAE,CAACK,gBAAgB,UAAAN,oBAAA,iBAAnBA,oBAAA,CAAAO,IAAA,CAAAN,EAAE,CAAoB,QAAQ,CAAEG,OAAO,CAAC,CACxC,MAAO,SAAAI,qBAAA,QAAAA,qBAAA,CAAMP,EAAE,CAACQ,mBAAmB,UAAAD,qBAAA,iBAAtBA,qBAAA,CAAAD,IAAA,CAAAN,EAAE,CAAuB,QAAQ,CAAEG,OAAO,CAAC,GAC1D,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAAAN,EAAE,CACX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}