{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\drago\\\\OneDrive\\\\Desktop\\\\sussa-troue\\\\src\\\\pages\\\\LoginPage.jsx\",\n  _s = $RefreshSig$();\n// File: src/pages/LoginPage.jsx\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { supabase } from \"../supabaseClient\";\nimport { toast } from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  // ✅ Auto-redirect if already logged in\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      const {\n        data,\n        error\n      } = await supabase.auth.getSession();\n      if (!error && mounted && data !== null && data !== void 0 && data.session) {\n        navigate(\"/rsvp\", {\n          replace: true\n        });\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, [navigate]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!email.trim() || !password) {\n      toast.error(\"Please enter your email and password\");\n      return;\n    }\n    const {\n      error\n    } = await supabase.auth.signInWithPassword({\n      email: email.trim(),\n      password\n    });\n    if (error) {\n      toast.error(error.message);\n    } else {\n      toast.success(\"Logged in!\");\n      navigate(\"/rsvp\", {\n        replace: true\n      }); // ✅ Go directly to RSVP page\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-lg rounded-lg p-8 w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-center mb-6\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          className: \"input w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"input w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-primary w-full\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          className: \"text-sunflower-700 hover:underline\",\n          children: \"Create an account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), \" | \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/reset\",\n          className: \"text-sunflower-700 hover:underline\",\n          children: \"Forgot password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"vKvWtYiX7d9SDlgEm06zgmWBgq8=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["useState","useEffect","useNavigate","Link","supabase","toast","jsxDEV","_jsxDEV","LoginPage","_s","email","setEmail","password","setPassword","navigate","mounted","data","error","auth","getSession","session","replace","handleSubmit","e","preventDefault","trim","signInWithPassword","message","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","to","_c","$RefreshReg$"],"sources":["C:/Users/drago/OneDrive/Desktop/sussa-troue/src/pages/LoginPage.jsx"],"sourcesContent":["// File: src/pages/LoginPage.jsx\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { supabase } from \"../supabaseClient\";\nimport { toast } from \"react-hot-toast\";\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  // ✅ Auto-redirect if already logged in\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      const { data, error } = await supabase.auth.getSession();\n      if (!error && mounted && data?.session) {\n        navigate(\"/rsvp\", { replace: true });\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, [navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!email.trim() || !password) {\n      toast.error(\"Please enter your email and password\");\n      return;\n    }\n\n    const { error } = await supabase.auth.signInWithPassword({\n      email: email.trim(),\n      password,\n    });\n\n    if (error) {\n      toast.error(error.message);\n    } else {\n      toast.success(\"Logged in!\");\n      navigate(\"/rsvp\", { replace: true }); // ✅ Go directly to RSVP page\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <div className=\"bg-white shadow-lg rounded-lg p-8 w-full max-w-md\">\n        <h1 className=\"text-2xl font-bold text-center mb-6\">Login</h1>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"input w-full\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"input w-full\"\n          />\n          <button\n            type=\"submit\"\n            className=\"btn-primary w-full\"\n          >\n            Log In\n          </button>\n        </form>\n        <div className=\"text-center mt-4\">\n          <Link\n            to=\"/signup\"\n            className=\"text-sunflower-700 hover:underline\"\n          >\n            Create an account\n          </Link>\n          {\" | \"}\n          <Link\n            to=\"/reset\"\n            className=\"text-sunflower-700 hover:underline\"\n          >\n            Forgot password?\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}