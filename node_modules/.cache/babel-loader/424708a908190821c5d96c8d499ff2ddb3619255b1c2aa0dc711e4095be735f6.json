{"ast":null,"code":"// File: src/hooks/useCountdown.js\nimport{useEffect,useRef,useState}from\"react\";export default function useCountdown(targetIsoString){const[display,setDisplay]=useState(\"\");const intervalRef=useRef(null);useEffect(()=>{// Clear any existing interval when target changes/unmounts\nif(intervalRef.current){clearInterval(intervalRef.current);intervalRef.current=null;}if(!targetIsoString)return;const targetMs=new Date(targetIsoString).getTime();if(!Number.isFinite(targetMs))return;const tick=()=>{const now=Date.now();const diff=Math.max(0,targetMs-now);if(diff===0){setDisplay(\"It's the big day! ðŸŽ‰\");if(intervalRef.current){clearInterval(intervalRef.current);intervalRef.current=null;}return;}const d=Math.floor(diff/(1000*60*60*24));const h=Math.floor(diff/(1000*60*60)%24);const m=Math.floor(diff/(1000*60)%60);const s=Math.floor(diff/1000%60);setDisplay(\"\".concat(d,\"d \").concat(h,\"h \").concat(m,\"m \").concat(s,\"s\"));};// kick off immediately, then every second\ntick();intervalRef.current=setInterval(tick,1000);return()=>{if(intervalRef.current){clearInterval(intervalRef.current);intervalRef.current=null;}};},[targetIsoString]);return display;}","map":{"version":3,"names":["useEffect","useRef","useState","useCountdown","targetIsoString","display","setDisplay","intervalRef","current","clearInterval","targetMs","Date","getTime","Number","isFinite","tick","now","diff","Math","max","d","floor","h","m","s","concat","setInterval"],"sources":["C:/Users/drago/OneDrive/Desktop/sussa-troue/src/hooks/useCountdown.js"],"sourcesContent":["// File: src/hooks/useCountdown.js\nimport { useEffect, useRef, useState } from \"react\";\n\nexport default function useCountdown(targetIsoString) {\n  const [display, setDisplay] = useState(\"\");\n  const intervalRef = useRef(null);\n\n  useEffect(() => {\n    // Clear any existing interval when target changes/unmounts\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n\n    if (!targetIsoString) return;\n\n    const targetMs = new Date(targetIsoString).getTime();\n    if (!Number.isFinite(targetMs)) return;\n\n    const tick = () => {\n      const now = Date.now();\n      const diff = Math.max(0, targetMs - now);\n\n      if (diff === 0) {\n        setDisplay(\"It's the big day! ðŸŽ‰\");\n        if (intervalRef.current) {\n          clearInterval(intervalRef.current);\n          intervalRef.current = null;\n        }\n        return;\n      }\n\n      const d = Math.floor(diff / (1000 * 60 * 60 * 24));\n      const h = Math.floor((diff / (1000 * 60 * 60)) % 24);\n      const m = Math.floor((diff / (1000 * 60)) % 60);\n      const s = Math.floor((diff / 1000) % 60);\n      setDisplay(`${d}d ${h}h ${m}m ${s}s`);\n    };\n\n    // kick off immediately, then every second\n    tick();\n    intervalRef.current = setInterval(tick, 1000);\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n  }, [targetIsoString]);\n\n  return display;\n}\n"],"mappings":"AAAA;AACA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAEnD,cAAe,SAAS,CAAAC,YAAYA,CAACC,eAAe,CAAE,CACpD,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGJ,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAK,WAAW,CAAGN,MAAM,CAAC,IAAI,CAAC,CAEhCD,SAAS,CAAC,IAAM,CACd;AACA,GAAIO,WAAW,CAACC,OAAO,CAAE,CACvBC,aAAa,CAACF,WAAW,CAACC,OAAO,CAAC,CAClCD,WAAW,CAACC,OAAO,CAAG,IAAI,CAC5B,CAEA,GAAI,CAACJ,eAAe,CAAE,OAEtB,KAAM,CAAAM,QAAQ,CAAG,GAAI,CAAAC,IAAI,CAACP,eAAe,CAAC,CAACQ,OAAO,CAAC,CAAC,CACpD,GAAI,CAACC,MAAM,CAACC,QAAQ,CAACJ,QAAQ,CAAC,CAAE,OAEhC,KAAM,CAAAK,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,GAAG,CAAGL,IAAI,CAACK,GAAG,CAAC,CAAC,CACtB,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAET,QAAQ,CAAGM,GAAG,CAAC,CAExC,GAAIC,IAAI,GAAK,CAAC,CAAE,CACdX,UAAU,CAAC,sBAAsB,CAAC,CAClC,GAAIC,WAAW,CAACC,OAAO,CAAE,CACvBC,aAAa,CAACF,WAAW,CAACC,OAAO,CAAC,CAClCD,WAAW,CAACC,OAAO,CAAG,IAAI,CAC5B,CACA,OACF,CAEA,KAAM,CAAAY,CAAC,CAAGF,IAAI,CAACG,KAAK,CAACJ,IAAI,EAAI,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAClD,KAAM,CAAAK,CAAC,CAAGJ,IAAI,CAACG,KAAK,CAAEJ,IAAI,EAAI,IAAI,CAAG,EAAE,CAAG,EAAE,CAAC,CAAI,EAAE,CAAC,CACpD,KAAM,CAAAM,CAAC,CAAGL,IAAI,CAACG,KAAK,CAAEJ,IAAI,EAAI,IAAI,CAAG,EAAE,CAAC,CAAI,EAAE,CAAC,CAC/C,KAAM,CAAAO,CAAC,CAAGN,IAAI,CAACG,KAAK,CAAEJ,IAAI,CAAG,IAAI,CAAI,EAAE,CAAC,CACxCX,UAAU,IAAAmB,MAAA,CAAIL,CAAC,OAAAK,MAAA,CAAKH,CAAC,OAAAG,MAAA,CAAKF,CAAC,OAAAE,MAAA,CAAKD,CAAC,KAAG,CAAC,CACvC,CAAC,CAED;AACAT,IAAI,CAAC,CAAC,CACNR,WAAW,CAACC,OAAO,CAAGkB,WAAW,CAACX,IAAI,CAAE,IAAI,CAAC,CAE7C,MAAO,IAAM,CACX,GAAIR,WAAW,CAACC,OAAO,CAAE,CACvBC,aAAa,CAACF,WAAW,CAACC,OAAO,CAAC,CAClCD,WAAW,CAACC,OAAO,CAAG,IAAI,CAC5B,CACF,CAAC,CACH,CAAC,CAAE,CAACJ,eAAe,CAAC,CAAC,CAErB,MAAO,CAAAC,OAAO,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}