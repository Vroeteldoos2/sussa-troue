{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\drago\\\\OneDrive\\\\Desktop\\\\sussa-troue\\\\src\\\\pages\\\\ViewRSVPPage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"../supabaseClient\";\nimport { toast } from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ViewRSVPPage() {\n  _s();\n  const [rsvp, setRsvp] = useState(null);\n  const [edit, setEdit] = useState(false);\n  const [form, setForm] = useState(null);\n  useEffect(() => {\n    supabase.auth.getUser().then(async ({\n      data\n    }) => {\n      var _data$user;\n      const email = data === null || data === void 0 ? void 0 : (_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.email;\n      if (!email) return;\n      const {\n        data: rows,\n        error\n      } = await supabase.from(\"rsvps\").select(\"*\").eq(\"email\", email).limit(1);\n      if (!error && rows !== null && rows !== void 0 && rows.length) {\n        setRsvp(rows[0]);\n        setForm(rows[0]);\n      }\n    });\n  }, []);\n  const save = async () => {\n    const {\n      error\n    } = await supabase.from(\"rsvps\").update(form).eq(\"id\", rsvp.id);\n    if (error) return toast.error(error.message);\n    toast.success(\"Updated!\");\n    setRsvp(form);\n    setEdit(false);\n  };\n  if (!rsvp) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"No RSVP found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 89\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-soil-500 mt-2\",\n          children: \"Please submit your RSVP first.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 137\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 51\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }, this);\n  }\n  if (!edit) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Thank you for RSVPing! \\uD83C\\uDF3B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-soil-600 mt-1\",\n          children: \"We\\u2019re excited to celebrate Abraham & Jesse-Lee with you.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"badge\",\n            children: [\"Status: \", rsvp.attending ? \"Attending\" : \"Not Attending\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary mt-6\",\n          onClick: () => setEdit(true),\n          children: \"Edit My RSVP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-6 space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        value: form.full_name,\n        onChange: e => setForm(f => ({\n          ...f,\n          full_name: e.target.value\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        value: form.email,\n        onChange: e => setForm(f => ({\n          ...f,\n          email: e.target.value\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"input\",\n        value: form.attending,\n        onChange: e => setForm(f => ({\n          ...f,\n          attending: e.target.value === 'true'\n        })),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"true\",\n          children: \"Attending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"false\",\n          children: \"Not Attending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        value: form.dietary,\n        onChange: e => setForm(f => ({\n          ...f,\n          dietary: e.target.value\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        value: form.songs,\n        onChange: e => setForm(f => ({\n          ...f,\n          songs: e.target.value\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 justify-end pt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-outline\",\n          onClick: () => {\n            setForm(rsvp);\n            setEdit(false);\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: save,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewRSVPPage, \"AizzqRHyf0bZy17H47SN1nxgOk4=\");\n_c = ViewRSVPPage;\nvar _c;\n$RefreshReg$(_c, \"ViewRSVPPage\");","map":{"version":3,"names":["useEffect","useState","supabase","toast","jsxDEV","_jsxDEV","ViewRSVPPage","_s","rsvp","setRsvp","edit","setEdit","form","setForm","auth","getUser","then","data","_data$user","email","user","rows","error","from","select","eq","limit","length","save","update","id","message","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","attending","onClick","value","full_name","onChange","e","f","target","dietary","songs","_c","$RefreshReg$"],"sources":["C:/Users/drago/OneDrive/Desktop/sussa-troue/src/pages/ViewRSVPPage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { supabase } from \"../supabaseClient\";\nimport { toast } from \"react-hot-toast\";\n\nexport default function ViewRSVPPage() {\n  const [rsvp, setRsvp] = useState(null);\n  const [edit, setEdit] = useState(false);\n  const [form, setForm] = useState(null);\n\n  useEffect(() => {\n    supabase.auth.getUser().then(async ({ data }) => {\n      const email = data?.user?.email;\n      if (!email) return;\n      const { data: rows, error } = await supabase.from(\"rsvps\").select(\"*\").eq(\"email\", email).limit(1);\n      if (!error && rows?.length) { setRsvp(rows[0]); setForm(rows[0]); }\n    });\n  }, []);\n\n  const save = async () => {\n    const { error } = await supabase.from(\"rsvps\").update(form).eq(\"id\", rsvp.id);\n    if (error) return toast.error(error.message);\n    toast.success(\"Updated!\"); setRsvp(form); setEdit(false);\n  };\n\n  if (!rsvp) {\n    return <div className=\"max-w-3xl mx-auto p-4\"><div className=\"card p-6 text-center\"><h2 className=\"section-title\">No RSVP found</h2><p className=\"text-soil-500 mt-2\">Please submit your RSVP first.</p></div></div>;\n  }\n  if (!edit) {\n    return (\n      <div className=\"max-w-3xl mx-auto p-4\">\n        <div className=\"card p-6\">\n          <h2 className=\"section-title\">Thank you for RSVPing! ðŸŒ»</h2>\n          <p className=\"text-soil-600 mt-1\">Weâ€™re excited to celebrate Abraham & Jesse-Lee with you.</p>\n          <div className=\"mt-4\"><div className=\"badge\">Status: {rsvp.attending ? \"Attending\" : \"Not Attending\"}</div></div>\n          <button className=\"btn-primary mt-6\" onClick={()=>setEdit(true)}>Edit My RSVP</button>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"max-w-3xl mx-auto p-4\">\n      <div className=\"card p-6 space-y-3\">\n        <input className=\"input\" value={form.full_name} onChange={e=>setForm(f=>({...f, full_name:e.target.value}))}/>\n        <input className=\"input\" value={form.email} onChange={e=>setForm(f=>({...f, email:e.target.value}))}/>\n        <select className=\"input\" value={form.attending} onChange={e=>setForm(f=>({...f, attending: e.target.value==='true'}))}>\n          <option value=\"true\">Attending</option><option value=\"false\">Not Attending</option>\n        </select>\n        <input className=\"input\" value={form.dietary} onChange={e=>setForm(f=>({...f, dietary:e.target.value}))}/>\n        <input className=\"input\" value={form.songs} onChange={e=>setForm(f=>({...f, songs:e.target.value}))}/>\n        <div className=\"flex gap-3 justify-end pt-2\">\n          <button className=\"btn-outline\" onClick={()=>{ setForm(rsvp); setEdit(false); }}>Cancel</button>\n          <button className=\"btn-primary\" onClick={save}>Save</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}