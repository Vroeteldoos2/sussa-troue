{"ast":null,"code":"import _objectSpread from\"C:/Users/drago/OneDrive/Desktop/sussa-troue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// File: src/pages/AdminDashboard.jsx\nimport{useEffect,useMemo,useState}from\"react\";import{supabase}from\"../supabaseClient\";import{toast}from\"react-hot-toast\";import Papa from\"papaparse\";import jsPDF from\"jspdf\";import{safeUpdatePayload}from\"../utils/safeUpdate\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PAGE_SIZE=25;const BG_URL=\"https://cyxeucwesqzwlisgveiz.supabase.co/storage/v1/object/public/public-assets/flowers-8309997.jpg\";export default function AdminDashboard(){const[rows,setRows]=useState([]);const[q,setQ]=useState(\"\");const[search,setSearch]=useState(\"\");// debounced value\nconst[loading,setLoading]=useState(true);const[err,setErr]=useState(\"\");const[page,setPage]=useState(1);const[editing,setEditing]=useState(null);const[saving,setSaving]=useState(false);// Fetch RSVPs\nuseEffect(()=>{let mounted=true;(async()=>{setLoading(true);const{data,error}=await supabase.from(\"rsvps\").select(\"*\").order(\"created_at\",{ascending:false});if(!mounted)return;if(error){setErr(error.message||\"Failed to load RSVPs\");}else{setRows(data||[]);}setLoading(false);})();return()=>{mounted=false;};},[]);// Debounce search input\nuseEffect(()=>{const id=setTimeout(()=>setSearch(q.trim()),200);return()=>clearTimeout(id);},[q]);const filtered=useMemo(()=>{if(!search)return rows;const needle=search.toLowerCase();return rows.filter(r=>[r.full_name,r.email,r.dietary,r.songs].join(\" \").toLowerCase().includes(needle));},[rows,search]);const totalPages=Math.max(1,Math.ceil(filtered.length/PAGE_SIZE));const current=useMemo(()=>{const start=(page-1)*PAGE_SIZE;return filtered.slice(start,start+PAGE_SIZE);},[filtered,page]);useEffect(()=>{setPage(1);},[search]);// ---------- Stats\nconst{attendingCount,notAttendingCount,plusOnesCount,kidsCount}=useMemo(()=>{let attending=0;let notAttending=0;let plusOnes=0;let kids=0;const parseChildren=val=>{if(Array.isArray(val))return val;if(typeof val===\"string\"){try{const parsed=JSON.parse(val);return Array.isArray(parsed)?parsed:[];}catch(_unused){return[];}}return[];};for(const r of rows){if(r!==null&&r!==void 0&&r.attending)attending+=1;else notAttending+=1;if(r!==null&&r!==void 0&&r.has_plus_one)plusOnes+=1;const arr=parseChildren(r===null||r===void 0?void 0:r.children);kids+=arr.length;}return{attendingCount:attending,notAttendingCount:notAttending,plusOnesCount:plusOnes,kidsCount:kids};},[rows]);// ---------- Actions\nconst del=async id=>{const ok=window.confirm(\"Delete this RSVP?\");if(!ok)return;const{error}=await supabase.from(\"rsvps\").delete().eq(\"id\",id);if(error)return toast.error(error.message);setRows(s=>s.filter(r=>r.id!==id));toast.success(\"Deleted\");};const exportCSV=()=>{const csv=Papa.unparse(filtered);const blob=new Blob([csv],{type:\"text/csv;charset=utf-8;\"});const url=URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=\"rsvps.csv\";a.click();URL.revokeObjectURL(url);};const exportPDF=()=>{const doc=new jsPDF();doc.text(\"RSVPs - Abraham & Jesse-Lee\",14,16);let y=24;filtered.forEach((r,i)=>{const line=\"\".concat(i+1,\". \").concat(r.full_name||\"-\",\" | \").concat(r.email||\"-\",\" | \").concat(r.attending?\"Attending\":\"Not\",\" | \").concat(r.dietary||\"-\",\" | \").concat(r.songs||\"-\");const split=doc.splitTextToSize(line,180);doc.text(split,14,y);y+=split.length*7+2;if(y>280){doc.addPage();y=16;}});doc.save(\"rsvps.pdf\");};const openEdit=row=>setEditing(row);const closeEdit=()=>setEditing(null);const saveEdit=async()=>{if(!(editing!==null&&editing!==void 0&&editing.id))return;setSaving(true);const payload=safeUpdatePayload({full_name:editing.full_name,attending:!!editing.attending,dietary:editing.dietary||null,songs:editing.songs||null});const{error}=await supabase.from(\"rsvps\").update(payload).eq(\"id\",editing.id);setSaving(false);if(error){toast.error(error.message||\"Failed to save changes\");return;}setRows(s=>s.map(r=>r.id===editing.id?_objectSpread(_objectSpread({},r),payload):r));toast.success(\"Updated\");closeEdit();};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen w-full bg-center bg-cover relative\",style:{backgroundImage:\"url(\".concat(BG_URL,\")\")},\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/30 backdrop-blur-[1px]\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 max-w-6xl mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"my-6 flex flex-wrap gap-3 items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white drop-shadow\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-extrabold\",children:\"Admin Dashboard \\uD83C\\uDF3B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/90\",children:\"Abraham & Jesse\\u2011Lee \\u2014 Overall attendance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline\",onClick:exportCSV,children:\"Export CSV\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline\",onClick:exportPDF,children:\"Export PDF\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-soil-600\",children:\"Attending\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-soil-800\",children:attendingCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-soil-600\",children:\"Not Attending\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-soil-800\",children:notAttendingCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-soil-600\",children:\"Plus Ones\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-soil-800\",children:plusOnesCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-soil-600\",children:\"Kids\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-soil-800\",children:kidsCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"sr-only\",htmlFor:\"rsvp-search\",children:\"Search RSVPs\"}),/*#__PURE__*/_jsx(\"input\",{id:\"rsvp-search\",className:\"input w-full\",placeholder:\"Search name/email/dietary/song\\u2026\",value:q,onChange:e=>setQ(e.target.value)})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/85 border border-white/60 rounded-2xl p-6 text-center text-soil-700 shadow\",role:\"status\",\"aria-live\":\"polite\",children:\"Loading RSVPs\\u2026\"}):err?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/85 border border-white/60 rounded-2xl p-6 text-center text-red-600 shadow\",children:[err,\" \\u2014 please refresh.\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/90 border border-white/60 rounded-2xl p-0 overflow-x-auto shadow\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-sunflower-100 text-soil-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Attending\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Plus One\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Kids\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Dietary\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-3\",children:\"Songs\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-right p-3\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[current.map(r=>{const childrenArr=Array.isArray(r.children)?r.children:typeof r.children===\"string\"?(()=>{try{const p=JSON.parse(r.children);return Array.isArray(p)?p:[];}catch(_unused2){return[];}})():[];return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t border-sunflower-100\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3 break-words\",children:r.full_name}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 break-words\",children:r.email}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:r.attending?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:r.has_plus_one?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:childrenArr.length}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 break-words\",children:r.dietary||\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 break-words\",children:r.songs||\"-\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-3 text-right\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline mr-2\",onClick:()=>openEdit(r),\"aria-label\":\"Edit RSVP for \".concat(r.full_name||r.email),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:()=>del(r.id),\"aria-label\":\"Delete RSVP for \".concat(r.full_name||r.email),children:\"Delete\"})]})]},r.id);}),!current.length&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"p-4 text-center text-soil-500\",colSpan:8,children:\"No results\"})})]})]})}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between text-white drop-shadow\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[\"Page \",page,\" of \",totalPages,\" \\u2022 \",filtered.length,\" total\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline\",onClick:()=>setPage(p=>Math.max(1,p-1)),disabled:page===1,\"aria-label\":\"Previous page\",children:\"Prev\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline\",onClick:()=>setPage(p=>Math.min(totalPages,p+1)),disabled:page===totalPages,\"aria-label\":\"Next page\",children:\"Next\"})]})]})]}),editing&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 bg-black/70 flex items-center justify-center\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-label\":\"Edit RSVP\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-soil-800\",children:\"Edit RSVP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",htmlFor:\"edit_full_name\",children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"edit_full_name\",className:\"input w-full\",value:editing.full_name||\"\",onChange:e=>setEditing(s=>_objectSpread(_objectSpread({},s),{},{full_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-sm mb-1\",children:\"Attending?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"edit_attending\",checked:!!editing.attending,onChange:()=>setEditing(s=>_objectSpread(_objectSpread({},s),{},{attending:true}))}),/*#__PURE__*/_jsx(\"span\",{children:\"Yes\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"edit_attending\",checked:!editing.attending,onChange:()=>setEditing(s=>_objectSpread(_objectSpread({},s),{},{attending:false}))}),/*#__PURE__*/_jsx(\"span\",{children:\"No\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",htmlFor:\"edit_dietary\",children:\"Dietary requirements\"}),/*#__PURE__*/_jsx(\"input\",{id:\"edit_dietary\",className:\"input w-full\",value:editing.dietary||\"\",onChange:e=>setEditing(s=>_objectSpread(_objectSpread({},s),{},{dietary:e.target.value})),placeholder:\"Vegetarian, halal, allergies\\u2026\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",htmlFor:\"edit_songs\",children:\"Song requests\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"edit_songs\",className:\"input w-full min-h-[96px]\",value:editing.songs||\"\",onChange:e=>setEditing(s=>_objectSpread(_objectSpread({},s),{},{songs:e.target.value})),placeholder:\"Optional\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex flex-col sm:flex-row gap-3 justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline w-full sm:w-auto\",onClick:closeEdit,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary w-full sm:w-auto\",onClick:saveEdit,disabled:saving,\"aria-busy\":saving?\"true\":\"false\",children:saving?\"Savingâ€¦\":\"Save\"})]})]})})]})]});}","map":{"version":3,"names":["useEffect","useMemo","useState","supabase","toast","Papa","jsPDF","safeUpdatePayload","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PAGE_SIZE","BG_URL","AdminDashboard","rows","setRows","q","setQ","search","setSearch","loading","setLoading","err","setErr","page","setPage","editing","setEditing","saving","setSaving","mounted","data","error","from","select","order","ascending","message","id","setTimeout","trim","clearTimeout","filtered","needle","toLowerCase","filter","r","full_name","email","dietary","songs","join","includes","totalPages","Math","max","ceil","length","current","start","slice","attendingCount","notAttendingCount","plusOnesCount","kidsCount","attending","notAttending","plusOnes","kids","parseChildren","val","Array","isArray","parsed","JSON","parse","_unused","has_plus_one","arr","children","del","ok","window","confirm","delete","eq","s","success","exportCSV","csv","unparse","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","exportPDF","doc","text","y","forEach","i","line","concat","split","splitTextToSize","addPage","save","openEdit","row","closeEdit","saveEdit","payload","update","map","_objectSpread","className","style","backgroundImage","onClick","htmlFor","placeholder","value","onChange","e","target","role","childrenArr","p","_unused2","colSpan","disabled","min","name","checked"],"sources":["C:/Users/drago/OneDrive/Desktop/sussa-troue/src/pages/AdminDashboard.jsx"],"sourcesContent":["// File: src/pages/AdminDashboard.jsx\nimport { useEffect, useMemo, useState } from \"react\";\nimport { supabase } from \"../supabaseClient\";\nimport { toast } from \"react-hot-toast\";\nimport Papa from \"papaparse\";\nimport jsPDF from \"jspdf\";\nimport { safeUpdatePayload } from \"../utils/safeUpdate\";\n\nconst PAGE_SIZE = 25;\nconst BG_URL =\n  \"https://cyxeucwesqzwlisgveiz.supabase.co/storage/v1/object/public/public-assets/flowers-8309997.jpg\";\n\nexport default function AdminDashboard() {\n  const [rows, setRows] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [search, setSearch] = useState(\"\"); // debounced value\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n  const [page, setPage] = useState(1);\n\n  const [editing, setEditing] = useState(null);\n  const [saving, setSaving] = useState(false);\n\n  // Fetch RSVPs\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from(\"rsvps\")\n        .select(\"*\")\n        .order(\"created_at\", { ascending: false });\n\n      if (!mounted) return;\n      if (error) {\n        setErr(error.message || \"Failed to load RSVPs\");\n      } else {\n        setRows(data || []);\n      }\n      setLoading(false);\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  // Debounce search input\n  useEffect(() => {\n    const id = setTimeout(() => setSearch(q.trim()), 200);\n    return () => clearTimeout(id);\n  }, [q]);\n\n  const filtered = useMemo(() => {\n    if (!search) return rows;\n    const needle = search.toLowerCase();\n    return rows.filter((r) =>\n      [r.full_name, r.email, r.dietary, r.songs]\n        .join(\" \")\n        .toLowerCase()\n        .includes(needle)\n    );\n  }, [rows, search]);\n\n  const totalPages = Math.max(1, Math.ceil(filtered.length / PAGE_SIZE));\n  const current = useMemo(() => {\n    const start = (page - 1) * PAGE_SIZE;\n    return filtered.slice(start, start + PAGE_SIZE);\n  }, [filtered, page]);\n\n  useEffect(() => {\n    setPage(1);\n  }, [search]);\n\n  // ---------- Stats\n  const { attendingCount, notAttendingCount, plusOnesCount, kidsCount } = useMemo(() => {\n    let attending = 0;\n    let notAttending = 0;\n    let plusOnes = 0;\n    let kids = 0;\n\n    const parseChildren = (val) => {\n      if (Array.isArray(val)) return val;\n      if (typeof val === \"string\") {\n        try {\n          const parsed = JSON.parse(val);\n          return Array.isArray(parsed) ? parsed : [];\n        } catch {\n          return [];\n        }\n      }\n      return [];\n    };\n\n    for (const r of rows) {\n      if (r?.attending) attending += 1;\n      else notAttending += 1;\n\n      if (r?.has_plus_one) plusOnes += 1;\n\n      const arr = parseChildren(r?.children);\n      kids += arr.length;\n    }\n\n    return {\n      attendingCount: attending,\n      notAttendingCount: notAttending,\n      plusOnesCount: plusOnes,\n      kidsCount: kids,\n    };\n  }, [rows]);\n\n  // ---------- Actions\n  const del = async (id) => {\n    const ok = window.confirm(\"Delete this RSVP?\");\n    if (!ok) return;\n    const { error } = await supabase.from(\"rsvps\").delete().eq(\"id\", id);\n    if (error) return toast.error(error.message);\n    setRows((s) => s.filter((r) => r.id !== id));\n    toast.success(\"Deleted\");\n  };\n\n  const exportCSV = () => {\n    const csv = Papa.unparse(filtered);\n    const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"rsvps.csv\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const exportPDF = () => {\n    const doc = new jsPDF();\n    doc.text(\"RSVPs - Abraham & Jesse-Lee\", 14, 16);\n    let y = 24;\n    filtered.forEach((r, i) => {\n      const line = `${i + 1}. ${r.full_name || \"-\"} | ${r.email || \"-\"} | ${\n        r.attending ? \"Attending\" : \"Not\"\n      } | ${r.dietary || \"-\"} | ${r.songs || \"-\"}`;\n      const split = doc.splitTextToSize(line, 180);\n      doc.text(split, 14, y);\n      y += split.length * 7 + 2;\n      if (y > 280) {\n        doc.addPage();\n        y = 16;\n      }\n    });\n    doc.save(\"rsvps.pdf\");\n  };\n\n  const openEdit = (row) => setEditing(row);\n  const closeEdit = () => setEditing(null);\n\n  const saveEdit = async () => {\n    if (!editing?.id) return;\n    setSaving(true);\n    const payload = safeUpdatePayload({\n      full_name: editing.full_name,\n      attending: !!editing.attending,\n      dietary: editing.dietary || null,\n      songs: editing.songs || null,\n    });\n    const { error } = await supabase.from(\"rsvps\").update(payload).eq(\"id\", editing.id);\n    setSaving(false);\n    if (error) {\n      toast.error(error.message || \"Failed to save changes\");\n      return;\n    }\n    setRows((s) => s.map((r) => (r.id === editing.id ? { ...r, ...payload } : r)));\n    toast.success(\"Updated\");\n    closeEdit();\n  };\n\n  return (\n    <div\n      className=\"min-h-screen w-full bg-center bg-cover relative\"\n      style={{ backgroundImage: `url(${BG_URL})` }}\n      aria-hidden=\"true\"\n    >\n      {/* Soft overlay to match RSVP page */}\n      <div className=\"absolute inset-0 bg-black/30 backdrop-blur-[1px]\" />\n\n      <div className=\"relative z-10 max-w-6xl mx-auto p-4\">\n        <header className=\"my-6 flex flex-wrap gap-3 items-center justify-between\">\n          <div className=\"text-white drop-shadow\">\n            <h1 className=\"text-3xl font-extrabold\">Admin Dashboard ðŸŒ»</h1>\n            <p className=\"text-white/90\">Abraham & Jesseâ€‘Lee â€” Overall attendance</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <button className=\"btn-outline\" onClick={exportCSV}>\n              Export CSV\n            </button>\n            <button className=\"btn-outline\" onClick={exportPDF}>\n              Export PDF\n            </button>\n          </div>\n        </header>\n\n        {/* Stats */}\n        <section className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4\">\n          <div className=\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\">\n            <div className=\"text-sm text-soil-600\">Attending</div>\n            <div className=\"text-2xl font-bold text-soil-800\">{attendingCount}</div>\n          </div>\n          <div className=\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\">\n            <div className=\"text-sm text-soil-600\">Not Attending</div>\n            <div className=\"text-2xl font-bold text-soil-800\">{notAttendingCount}</div>\n          </div>\n          <div className=\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\">\n            <div className=\"text-sm text-soil-600\">Plus Ones</div>\n            <div className=\"text-2xl font-bold text-soil-800\">{plusOnesCount}</div>\n          </div>\n          <div className=\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow\">\n            <div className=\"text-sm text-soil-600\">Kids</div>\n            <div className=\"text-2xl font-bold text-soil-800\">{kidsCount}</div>\n          </div>\n        </section>\n\n        {/* Search */}\n        <div className=\"bg-white/85 border border-white/60 rounded-2xl p-4 shadow mb-4\">\n          <label className=\"sr-only\" htmlFor=\"rsvp-search\">\n            Search RSVPs\n          </label>\n          <input\n            id=\"rsvp-search\"\n            className=\"input w-full\"\n            placeholder=\"Search name/email/dietary/songâ€¦\"\n            value={q}\n            onChange={(e) => setQ(e.target.value)}\n          />\n        </div>\n\n        {/* Table / Content */}\n        {loading ? (\n          <div\n            className=\"bg-white/85 border border-white/60 rounded-2xl p-6 text-center text-soil-700 shadow\"\n            role=\"status\"\n            aria-live=\"polite\"\n          >\n            Loading RSVPsâ€¦\n          </div>\n        ) : err ? (\n          <div className=\"bg-white/85 border border-white/60 rounded-2xl p-6 text-center text-red-600 shadow\">\n            {err} â€” please refresh.\n          </div>\n        ) : (\n          <>\n            <div className=\"bg-white/90 border border-white/60 rounded-2xl p-0 overflow-x-auto shadow\">\n              <table className=\"min-w-full text-sm\">\n                <thead className=\"bg-sunflower-100 text-soil-700\">\n                  <tr>\n                    <th className=\"text-left p-3\">Name</th>\n                    <th className=\"text-left p-3\">Email</th>\n                    <th className=\"text-left p-3\">Attending</th>\n                    <th className=\"text-left p-3\">Plus One</th>\n                    <th className=\"text-left p-3\">Kids</th>\n                    <th className=\"text-left p-3\">Dietary</th>\n                    <th className=\"text-left p-3\">Songs</th>\n                    <th className=\"text-right p-3\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {current.map((r) => {\n                    const childrenArr =\n                      Array.isArray(r.children)\n                        ? r.children\n                        : typeof r.children === \"string\"\n                        ? (() => {\n                            try {\n                              const p = JSON.parse(r.children);\n                              return Array.isArray(p) ? p : [];\n                            } catch {\n                              return [];\n                            }\n                          })()\n                        : [];\n                    return (\n                      <tr key={r.id} className=\"border-t border-sunflower-100\">\n                        <td className=\"p-3 break-words\">{r.full_name}</td>\n                        <td className=\"p-3 break-words\">{r.email}</td>\n                        <td className=\"p-3\">{r.attending ? \"Yes\" : \"No\"}</td>\n                        <td className=\"p-3\">{r.has_plus_one ? \"Yes\" : \"No\"}</td>\n                        <td className=\"p-3\">{childrenArr.length}</td>\n                        <td className=\"p-3 break-words\">{r.dietary || \"-\"}</td>\n                        <td className=\"p-3 break-words\">{r.songs || \"-\"}</td>\n                        <td className=\"p-3 text-right\">\n                          <button\n                            className=\"btn-outline mr-2\"\n                            onClick={() => openEdit(r)}\n                            aria-label={`Edit RSVP for ${r.full_name || r.email}`}\n                          >\n                            Edit\n                          </button>\n                          <button\n                            className=\"btn-primary\"\n                            onClick={() => del(r.id)}\n                            aria-label={`Delete RSVP for ${r.full_name || r.email}`}\n                          >\n                            Delete\n                          </button>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                  {!current.length && (\n                    <tr>\n                      <td className=\"p-4 text-center text-soil-500\" colSpan={8}>\n                        No results\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"mt-4 flex items-center justify-between text-white drop-shadow\">\n                <span className=\"text-sm\">\n                  Page {page} of {totalPages} â€¢ {filtered.length} total\n                </span>\n                <div className=\"flex gap-2\">\n                  <button\n                    className=\"btn-outline\"\n                    onClick={() => setPage((p) => Math.max(1, p - 1))}\n                    disabled={page === 1}\n                    aria-label=\"Previous page\"\n                  >\n                    Prev\n                  </button>\n                  <button\n                    className=\"btn-outline\"\n                    onClick={() => setPage((p) => Math.min(totalPages, p + 1))}\n                    disabled={page === totalPages}\n                    aria-label=\"Next page\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n\n        {/* Edit Modal */}\n        {editing && (\n          <div\n            className=\"fixed inset-0 z-50 bg-black/70 flex items-center justify-center\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-label=\"Edit RSVP\"\n          >\n            <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 p-6\">\n              <h2 className=\"text-xl font-semibold text-soil-800\">Edit RSVP</h2>\n              <div className=\"mt-4 grid gap-4\">\n                <div>\n                  <label className=\"block text-sm mb-1\" htmlFor=\"edit_full_name\">\n                    Full name\n                  </label>\n                  <input\n                    id=\"edit_full_name\"\n                    className=\"input w-full\"\n                    value={editing.full_name || \"\"}\n                    onChange={(e) =>\n                      setEditing((s) => ({ ...s, full_name: e.target.value }))\n                    }\n                  />\n                </div>\n\n                <div>\n                  <span className=\"block text-sm mb-1\">Attending?</span>\n                  <div className=\"flex items-center gap-4\">\n                    <label className=\"inline-flex items-center gap-2\">\n                      <input\n                        type=\"radio\"\n                        name=\"edit_attending\"\n                        checked={!!editing.attending}\n                        onChange={() =>\n                          setEditing((s) => ({ ...s, attending: true }))\n                        }\n                      />\n                      <span>Yes</span>\n                    </label>\n                    <label className=\"inline-flex items-center gap-2\">\n                      <input\n                        type=\"radio\"\n                        name=\"edit_attending\"\n                        checked={!editing.attending}\n                        onChange={() =>\n                          setEditing((s) => ({ ...s, attending: false }))\n                        }\n                      />\n                      <span>No</span>\n                    </label>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm mb-1\" htmlFor=\"edit_dietary\">\n                    Dietary requirements\n                  </label>\n                  <input\n                    id=\"edit_dietary\"\n                    className=\"input w-full\"\n                    value={editing.dietary || \"\"}\n                    onChange={(e) =>\n                      setEditing((s) => ({ ...s, dietary: e.target.value }))\n                    }\n                    placeholder=\"Vegetarian, halal, allergiesâ€¦\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm mb-1\" htmlFor=\"edit_songs\">\n                    Song requests\n                  </label>\n                  <textarea\n                    id=\"edit_songs\"\n                    className=\"input w-full min-h-[96px]\"\n                    value={editing.songs || \"\"}\n                    onChange={(e) =>\n                      setEditing((s) => ({ ...s, songs: e.target.value }))\n                    }\n                    placeholder=\"Optional\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"mt-6 flex flex-col sm:flex-row gap-3 justify-end\">\n                <button className=\"btn-outline w-full sm:w-auto\" onClick={closeEdit}>\n                  Cancel\n                </button>\n                <button\n                  className=\"btn-primary w-full sm:w-auto\"\n                  onClick={saveEdit}\n                  disabled={saving}\n                  aria-busy={saving ? \"true\" : \"false\"}\n                >\n                  {saving ? \"Savingâ€¦\" : \"Save\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}