{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\drago\\\\OneDrive\\\\Desktop\\\\sussa-troue\\\\src\\\\components\\\\Navbar.jsx\",\n  _s = $RefreshSig$();\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"../supabaseClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NavigationBar() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(localStorage.getItem(\"role\") || \"user\");\n  const location = useLocation();\n  useEffect(() => {\n    let sub;\n    (async () => {\n      const {\n        data\n      } = await supabase.auth.getUser();\n      setUser((data === null || data === void 0 ? void 0 : data.user) || null);\n      sub = supabase.auth.onAuthStateChange((_event, session) => {\n        setUser((session === null || session === void 0 ? void 0 : session.user) || null);\n      });\n    })();\n    return () => {\n      var _sub, _sub$data, _sub$data$subscriptio, _sub$data$subscriptio2;\n      return (_sub = sub) === null || _sub === void 0 ? void 0 : (_sub$data = _sub.data) === null || _sub$data === void 0 ? void 0 : (_sub$data$subscriptio = _sub$data.subscription) === null || _sub$data$subscriptio === void 0 ? void 0 : (_sub$data$subscriptio2 = _sub$data$subscriptio.unsubscribe) === null || _sub$data$subscriptio2 === void 0 ? void 0 : _sub$data$subscriptio2.call(_sub$data$subscriptio);\n    };\n  }, []);\n  useEffect(() => {\n    const stored = localStorage.getItem(\"role\");\n    if (stored) setRole(stored);\n  }, [location.pathname]);\n  const logout = async () => {\n    await supabase.auth.signOut();\n    localStorage.removeItem(\"role\");\n    window.location.href = \"/login\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"w-full bg-white/80 backdrop-blur border-b border-sunflower-100 sticky top-0 z-40\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: user ? \"/rsvp\" : \"/login\",\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-extrabold text-sunflower-700\",\n          children: \"\\uD83C\\uDF3B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold text-soil-700\",\n          children: \"Abraham & Jesse\\u2011Lee\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn-outline\",\n          to: \"/album\",\n          children: \"Album\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn-outline\",\n          to: \"/message-wall\",\n          children: \"Message Wall\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn-outline\",\n          to: \"/leave-a-message\",\n          children: \"Leave a Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn-outline\",\n          to: \"/venue\",\n          children: \"Venue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn-outline\",\n          to: \"/upload-media\",\n          children: \"Upload Media\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 20\n        }, this), user && role === \"admin\" && /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn-outline\",\n          to: \"/admin\",\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), user && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(NavigationBar, \"IuZ8Faz0mFaPPhyXQSRv3GKJg6I=\", false, function () {\n  return [useLocation];\n});\n_c = NavigationBar;\nvar _c;\n$RefreshReg$(_c, \"NavigationBar\");","map":{"version":3,"names":["Link","useLocation","useEffect","useState","supabase","jsxDEV","_jsxDEV","NavigationBar","_s","user","setUser","role","setRole","localStorage","getItem","location","sub","data","auth","getUser","onAuthStateChange","_event","session","_sub","_sub$data","_sub$data$subscriptio","_sub$data$subscriptio2","subscription","unsubscribe","call","stored","pathname","logout","signOut","removeItem","window","href","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/drago/OneDrive/Desktop/sussa-troue/src/components/Navbar.jsx"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"../supabaseClient\";\n\nexport default function NavigationBar() {\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(localStorage.getItem(\"role\") || \"user\");\n  const location = useLocation();\n\n  useEffect(() => {\n    let sub;\n    (async () => {\n      const { data } = await supabase.auth.getUser();\n      setUser(data?.user || null);\n      sub = supabase.auth.onAuthStateChange((_event, session) => {\n        setUser(session?.user || null);\n      });\n    })();\n    return () => sub?.data?.subscription?.unsubscribe?.();\n  }, []);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"role\");\n    if (stored) setRole(stored);\n  }, [location.pathname]);\n\n  const logout = async () => {\n    await supabase.auth.signOut();\n    localStorage.removeItem(\"role\");\n    window.location.href = \"/login\";\n  };\n\n  return (\n    <nav className=\"w-full bg-white/80 backdrop-blur border-b border-sunflower-100 sticky top-0 z-40\">\n      <div className=\"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between\">\n        <Link to={user ? \"/rsvp\" : \"/login\"} className=\"flex items-center gap-2\">\n          <span className=\"text-2xl font-extrabold text-sunflower-700\">ðŸŒ»</span>\n          <span className=\"font-bold text-soil-700\">Abraham & Jesseâ€‘Lee</span>\n        </Link>\n\n        <div className=\"flex items-center gap-3\">\n          {/* Public links */}\n          <Link className=\"btn-outline\" to=\"/album\">Album</Link>\n          <Link className=\"btn-outline\" to=\"/message-wall\">Message Wall</Link>\n          <Link className=\"btn-outline\" to=\"/leave-a-message\">Leave a Message</Link>\n          <Link className=\"btn-outline\" to=\"/venue\">Venue</Link>\n\n          {/* Auth-only link(s) â€” keep Upload Media only */}\n          {user && <Link className=\"btn-outline\" to=\"/upload-media\">Upload Media</Link>}\n\n          {/* Admin */}\n          {user && role === \"admin\" && (\n            <Link className=\"btn-outline\" to=\"/admin\">Admin</Link>\n          )}\n\n          {/* Logout */}\n          {user && (\n            <button className=\"btn-primary\" onClick={logout}>Logout</button>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}